<!DOCTYPE html>
<html>

    <head>

        <title>DOA5LR movelist</title>

        <link rel="stylesheet" type="text/css" href="style/main.css">
        <link rel="stylesheet" type="text/css" href="style/canvas.css">

        <script src="../data/rig.js"></script>
        <script data-main="js/main" src="../lib/require/2.1.20/require.min.js"></script>

    </head>

    <body>

        <div id="content"></div>

        <div id="menu">

            <fieldset>
                <legend> Load / Save </legend>
                <div class="fieldsetContent">
                    <label>Load from local file:</label><br />
                    <input id="load" type="file" /><br />
                    <input id="openUrl" type="button" value="Load from URL" />
                    <input id="save" type="button" value="Save to local file" /><br />
                    <a id="download" class="hidden">Click to save</a>
                </div>
            </fieldset>

            <fieldset>

                <legend> Appearance </legend>

                <table id="settings" class="fieldsetContent">

                    <tr>
                        <td><input id="flipTextToRight" type="checkbox" checked /></td>
                        <td><label for="flipTextToRight">Prefer labeling at right</label></td>
                    </tr>

                    <tr><td colspan="2"><label>Show additional info:</label></td></tr>
                    <tr>
                        <td><label>Top</label></td>
                        <td>
                            <select id="topTextOption">
                                <option value="0" selected>None</option>
                                <option value="1">Ending</option>
                                <option value="2">Active frames</option>
                                <!-- <option value="3">Cooldown</option>
                                <option value="4">Advantage</option>
                                <option value="5">Stun depth</option>
                                <option value="6">Unhold duration</option> -->
                            </select>
                        </td>
                    </tr>

                    <tr>
                        <td><label>Right</label></td>
                        <td>
                            <select id="rightTextOption">
                                <option value="0">None</option>
                                <option value="1" selected>Ending</option>
                                <option value="2">Active frames</option>
                                <!-- <option value="3">Cooldown</option>
                                <option value="4">Advantage</option>
                                <option value="5">Stun depth</option>
                                <option value="6">Unhold duration</option> -->
                            </select>
                        </td>
                    </tr>

                    <tr>
                        <td><label>Bottom</label></td>
                        <td>
                            <select id="bottomTextOption">
                                <option value="0" selected>None</option>
                                <option value="1">Ending</option>
                                <option value="2">Active frames</option>
                                <!-- <option value="3">Cooldown</option>
                                <option value="4">Advantage</option>
                                <option value="5">Stun depth</option>
                                <option value="6">Unhold duration</option> -->
                            </select>
                        </td>
                    </tr>

                    <!-- <tr>
                        <td><input id="smoothScroll" type="checkbox" disabled checked /></td>
                        <td><label for="smoothScroll">Smooth scroll</label></td>
                    </tr> -->

                    <!-- <tr>
                        <td colspan="2">
                            Group root nodes by<br />
                            <input type="checkbox" checked />stance<br />
                            <input type="checkbox" />type<br />
                            <input type="checkbox" />height<br />
                            <input type="checkbox" checked />strike type<br />
                        </td>
                    </tr> -->

                    <tr>
                        <td><input id="showPlaceholders" type="checkbox" /></td>
                        <td><label for="showPlaceholders">Show placeholders</label></td>
                    </tr>

                </table>

            </fieldset>

            <fieldset>

                <legend> Node data </legend>

                <div class="fieldsetContent">

                    <table id="editorOther" class="hidden">
                        <tr><td colspan="2">
                            <input id="addChild"   type="button" value="Add child"  />
                            <input id="deleteNode" type="button" value="Delete selected node" />
                        </td></tr>
                        <tr><td colspan="2">
                            <label>Move:</label>
                            <input id="moveNodeUp"   type="button" value="Up"   />
                            <input id="moveNodeDown" type="button" value="Down" />
                        </td></tr>
                    </table>

                    <table id="editorRoot" class="hidden">
                        <tr title="Character name - e.g. 'Kasumi' or 'Hayabusa'">
                            <td><label for="editorRootCharacterName">Character:</label></td>
                            <td><input id="editorRootCharacterName" placeholder="e.g. 'Kasumi'"/></td>
                        </tr>
                        <tr title="Game version - e.g. '1.04 steam'">
                            <td><label for="editorRootGameVersion">Game version:</label></td>
                            <td><input id="editorRootGameVersion" placeholder="e.g. '1.04 steam'"/></td>
                        </tr>
                        <!-- <tr title="Context abbreviations and descriptions">
                            <td colspan="2">
                                TODO: context abbreviations
                                <input type="button" value="remove unused" />
                            </td>
                        </tr> -->
                    </table>

                    <table id="editorStance" class="hidden">
                        <tr title="Stance abbreviation - e.g. 'BKH' for Helena's Bokuho">
                            <td><label for="editorStanceAbbreviation">Abbreviation:</label></td>
                            <td><input id="editorStanceAbbreviation" placeholder="e.g. 'BKH'"/></td>
                        </tr>
                        <tr title="Abbreviation description - e.g. 'Bokuho'">
                            <td><label for="editorStanceDescription">Description:</label></td>
                            <td><input id="editorStanceDescription" placeholder="e.g. 'Bokuho'"/></td>
                        </tr>
                        <tr title="Abbreviation of another stance if transits automatically">
                            <td><label for="editorStanceEnding">Ending:</label></td>
                            <td><input id="editorStanceEnding" placeholder="e.g. 'BND'"/></td>
                        </tr>
                    </table>

                    <table id="editorMove" class="hidden">
                        <tr title="Keys to perform the move - e.g. '236P'">
                            <td><label for="editorMoveInput">Input:</label></td>
                            <td><input id="editorMoveInput" placeholder="e.g. '236P'"/></td>
                        </tr>
                        <tr title="Frame data of the move - e.g. '11 (2) 15'">
                            <td><label for="editorMoveFrameData">Frame data:</label></td>
                            <td><input id="editorMoveFrameData" placeholder="e.g. '11 (2) 15'"/></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <label title="Move action steps - for most moves just one">Action steps:</label>
                                <table id="editorMoveActionSteps"></table>
                            </td>
                        </tr>
                        <tr title="Abbreviation of a stance the move ends with - e.g. 'BND' for Rig's Bending stance">
                            <td><label for="editorMoveEnding">Ending:</label></td>
                            <td><input id="editorMoveEnding" placeholder="e.g. 'BND'"/></td>
                        </tr>
                        <tr title="Requirements to perform the move - e.g. 'BT' for back-turned">
                            <td><label for="editorMoveContext">Context:</label></td>
                            <td><input id="editorMoveContext" placeholder="e.g. 'BT' for back-turned"/></td>
                        </tr>
                    </table>

                </div>

            </fieldset>

            <fieldset>
                <legend> Analysis </legend>
                <div class="fieldsetContent">
                    <input id="filter" type="button" value="Find moves to forcetech" /><br />
                </div>
            </fieldset>

            <input id="about" type="button" value="About" />

        </div>

        <!-- ==== Overlays ==== -->

            <div id="popupWelcomeOverlay">
                <div id="popupWelcome">
                    <h2>DOA Character Move List Visualiser</h2><br />
                    <table>
                        <tr>
                            <td><b>Warning:</b></td>
                            <td>There is no CTRL+Z, so save often.</td>
                        </tr>
                        <tr>
                            <td><b>Usage hints:</b></td>
                            <td>
                                Click on a node to view or edit its properties;<br />
                                You can use arrow keys to select neighbour nodes;<br />
                                Double click on a node to toggle its children;<br />
                                Placeholders are great way to start with new data;<br />
                                When editing properties, use <pre style="display: inline">[Tab]</pre> and <pre style="display: inline">[Shift]+[Tab]</pre> to navigate to other properties;<br />
                                <pre style="display: inline">Spacebar</pre> will click highlighted checkbox or button.<br />
                            </td>
                        </tr>
                        <tr>
                            <td><b>Warning:</b></td>
                            <td>This is work in progress. Future versions are likely to be incompatible with current data format, so don't bother too much with filling all the properties.<br />Also, there are bugs to be found</td>
                        </tr>
                        <tr>
                            <td><b>Warning:</b></td>
                            <td>It was only tested in Google Chrome</td>
                        </tr>
                        <tr>
                            <td colspan = "2" style="text-align: center;">
                                <br />
                                <input id="showWelcomePopupOnStart" type="checkbox" checked/>
                                <label for="showWelcomePopupOnStart">Show this popup on start</label>
                                <br /><br />
                                <input id="closeWelcomePopup" type="Button" value="OK (Close)" />
                                <input id="loadExample" type="Button" value="Load Example" />
                                <a href="http://github.com/AlexXsWx/DeadOrAliveMovelistVisualiser">Source files</a>
                                <br /><br />
                            </td>
                        </tr>
                    </table>
                    <sub>by AlexXsWx</sub>
                </div>
            </div>

            <div id="popupFilterResult" class="clickThrough hidden">
                <div>
                    <div>
                        <input id="closeFilterResult" type="button" value="Close" />
                        <pre id="filterOuptut"></pre>
                    </div>
                </div>
            </div>

            <div id="loading">
                <span>Loading bunch of the script files<br />through a slow service...</span>
            </div>

        <!-- /================= -->

    </body>

</html>